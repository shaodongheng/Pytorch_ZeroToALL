## 2.1 基础知识

### 2.2.2 张量（Tensor）

Tensor是pytorch中最基本的操作对象。

1. tensor的不同数据类型：

| 数据类型           | 数据类型   |
| ------------------ | ---------- |
| torch.FloatTensor  | 32位浮点型 |
| torch.DoubleTensor | 64位浮点型 |
| torch.ShortTensor  | 16位整型   |
| torch.IntTensor    | 32位整型   |
| torch.LongTensor   | 64位整型   |

2. tensor的定义

   ```python
   a = torch.Tensor([[2,3],[4,8],[7,9]]) #直接定义一个3x2的tensor
   print(a,a.size()) #查看tensor的大小
   ```

   输出：

   ![image-20200417140804459](https://raw.githubusercontent.com/shaodongheng/cloudimage/master/img/image-20200417140804459.png)

注意：*torch.Tensor* 默认是32位浮点型。

当然还可以：

```python
b = torch.LongTensor([[2,3],[4,5],[6,7]])
```

0初始化和正态分布随机初始化：

```python
c = torch.zeros((3,2))  #初始化一个3x2的值为0的tensor
d = torch.randn((3,2))
```

3. 索引

   与numpy数组的方式相同

   ```python
   a[0,1] = 100   #修改张量a的[0,1]处的值为100
   ```

4. Tensor 和numpy.ndarray 之间的转换



+ tensor转换成numpy数组

```python
b = torch.LongTensor([[2,3],[4,5],[6,7]])
numpy_b = b.numpy() # tensor to ndarray
```

   b:

![image-20200417155933765](https://raw.githubusercontent.com/shaodongheng/cloudimage/master/img/image-20200417155933765.png)

   numpy_b:

![image-20200417160012703](https://raw.githubusercontent.com/shaodongheng/cloudimage/master/img/image-20200417160012703.png)

+ numpy数组转换成tensor

```python
import numpy as np
e = np.array([[1,2],[3,4]])  #定义一个numpy数组
torch_e = torch.from_numpy(e)  #ndarray to tensor
```

   e:

![image-20200417160534857](C:%5CUsers%5Csdhdo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200417160534857.png)

  torch_e:

![image-20200417160555075](C:%5CUsers%5Csdhdo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200417160555075.png)

+ 修改tensor的数据类型

```
f_torch_e = torch_e.float()
```

torch_e.type():

```
'torch.IntTensor'
```

f_torch_e.type():

```0
'torch.FloatTensor'
```

5. 将Tensor放入GPU

   numpy数组只能在cpu上运行，tensor可以放入GPU运行

   ```python
   if torch.cuda.is_available():  #判断运行环境是否支持GPU
       a_cuda = a.cuda()  #将张量a放入GPU
       print(a_cuda)
   ```

   输出：

   ![image-20200417161446063](C:%5CUsers%5Csdhdo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200417161446063.png)

### 2.2.3 变量（Variable）

